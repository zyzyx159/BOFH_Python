<html>
            <head>
            <title> EPISODE 27 - BOFH: Dodging the auditors</title>
            </head>
            <body>
            <h1>BOFH: Dodging the auditors </h1> 
            <h2>The PFY has a lucky escape </h2>
            <h3>EPISODE 27 </h3>
            <br /><p></p><p>"Oops," the PFY says, looking away from his screen guiltily.</p><p>"What?"</p><p>"I think I've just dropped the indexes from the financials database."</p><p>"Ok," I say. "No need to panic, we can probably recreate the indexes on the fly from the table data."</p><p>"Yeah, no."</p><p>"No?"</p><p>"I dropped the tables as well."</p><p>"So what you meant to say when you first said 'oops' was 'oops I've deleted our financials database.'"</p><p>"Yeah."</p><p>"Backups then," I say. "You didn't delete them as well did you?"</p><p>"No, no, they're automated - the finance people schedule them for 11:30pm from their web interface. The only interaction I have is to change the incremental tape each morning when it's ejected and the full tape every monday when it's ejected ."</p><p>"And when was the last time the full tape ejected?" I sigh, fearing that this conversation is dragging a little.</p><p>"Uhhh," the PFY says, rolling his eyes a little. "Three weeks ago."</p><p>"THREE WEEKS AGO!" I gasp. "You mean those idiot beancounters haven't scheduled a bloody full backup in THREE WEEKS! It'll take days to roll that forward!"</p><p>"Oh they've scheduled them alright," the PFY says. "They've just not run."</p><p>"WHY HAVEN'T THEY RUN?" I ask, gritting my teeth a little.</p><p>"It's because of the financial policy change," the PFY says.</p><p>"Policy change?" I prompt, wondering if the PFY has suddenly become unable to form a sentence complete with subject, object, verb, adverb and intelligence.</p><p>"Yeah, you know about three weeks and two days ago the Beancounters changed the way in which they would pay recurring invoices?"</p><p>"No, but go on."</p><p>"They decided that if an invoice was a recurring one that varied in amount month to month the fixed component of the bill could be paid in advance but the varying portion should be paid for in arrears."</p><p>"And whatever that means has... some effect on backup scheduling?"</p><p>"WHAT IT MEANS contractors like us who are paid in advance would get paid their normal time in advance but their overtime in arrears."</p><p>"Uh-huh - and this means?"</p><p>"It means that there would be a two month gap between successive overtime payments when the policy was enacted."</p><p>"...Three weeks and two days ago?" I reply.</p><p>"Yes. Which means that if you operate as I do - on a month to month basis - by then end of the month you have no money left."</p><p>"Yes, but you'll still get paid every month, just not your overtime - for one pay."</p><p>"But in the case where you commit your monthly income to substantial mortgage repayments on a studio apartment in the West End..."</p><p>"Oh!" I say. "So you're broke for a month!"</p><p>"Two months actually," the PFY sniffs.</p><p>"And because you're broke you can't even afford the time to put a tape in the backup drive?"</p><p>"No..." the PFY says.</p><p>"You can afford to put tapes in but you don't for... personal reasons?"</p><p>"THERE'S A TAPE IN THE BLOODY DRIVE!" the PFY snaps.</p><p>"So why haven't we taken a full backup properly?"</p><p>"Because the backups are timed to occur at 1:00am on Monday morning."</p><p>"Still not with you..."</p><p>"Well at 12am, I've been doing some database maintenance which takes about 90 minutes to complete."</p><p>"So why not run the maintenance after the backups?"</p><p>"I can't, because the accounts payable payments are processed and transferred to the bank at 3am."</p><p>"And you wouldn't want to impact my chances of getting paid," I say.</p><p>"No. So I run it at 12 and it takes till 1:30."</p><p>"Yet still the backups don't start at 1?"</p><p>"No, because I have to change the system clock to be 3:01am before I do my maintenance."</p><p>>CUE RAT AROMA!<</p><p>"What exactly does your database maintenance entail?" I ask, fearing the worst.</p><p>"I select all the accounts payable transactions in the database which ran three weeks and three days ago, order them by payee and drop anyone who isn't me."</p><p>"And run the payment with the timestamp which would have occurred had it been a legitimate payment going to the bank."</p><p>"Yes. And then when that's done I set the clock back to the proper time, which is generally 2:30 or so and the real run goes through."</p><p>"Wouldn't that mean you had lots of duplicate payments for the same day."</p><p>"It would - if I didn't delete the row when I get into work - from there and the audit table."</p><p>"A plan so complicated I need a memory upgrade and a maths coprocessor to understand it. So why did you delete the tables?"</p><p>"I was looking through the financials package manual..."</p><p>"A manual?! You HEATHEN!"</p><p>"...and happened to notice that the audit table has it's own audit table which is available to the auditors..."</p><p>"AND THE AUDITORS ARE COMING THIS WEEK!" I gasp, finally realising.</p><p>"Indeed," the PFY sighs, confession over with.</p><p>"You realise they take a hardcopy of the audit table's audit table every night?"</p><p>"You're kidding!"</p><p>"Not at all. They made it mandatory last year when I managed to replay a desktop order enough times to build my own Beowulf cluster - though they couldn't prove anything."</p><p>"So what do I do?"</p><p>"You mean, what do you do now that you've push the company into a possible crisis of investor confidence by manipulating our financial systems and ruining any possibility of a quick backup?"</p><p>"Uh... yes."</p><p>"Start a small fire with the paper audit logs - they're kept in the head beancounter's bottom drawer, then buzz every second incremental tape with the bulk eraser so they can't roll forward."</p><p>"But won't they still be peed off that we didn't do backups?"</p><p>"Not when we blame it on the SAN again - because of >flip< >flip< fibrechannel aspherical monochromousity."</p><p>"Ah, F.A.M!" the PFY says. "And I'm guessing you'll be faking web pages for Google to find?"</p><p>"Already done it. Although that's my second cluster down the toilet.‚Äù</p><p>"That's what I like about you," the PFY says. "You're a people person!"</p>
            Written by: Simon Travaglia
            <br> Posted to: <a href="https://www.theregister.com/2007/08/03/bofh_episode_27/"> https://www.theregister.com/2007/08/03/bofh_episode_27/</a> </br>
            Posted on: Friday, August 03, 2007 at 11:02 UTC
            </body> </html>