<html>
            <head>
            <title> EPISODE 13 - BOFH: The Great Patch Mismatch</title>
            </head>
            <body>
            <h1>BOFH: The Great Patch Mismatch </h1> 
            <h2>Halon, the noblest of gases </h2>
            <h3>EPISODE 13 </h3>
            <br /><p></p><p>"It's just a minor ROM patch." the service engineer bleats "It'll only take five minutes."</p><p>"Yeah... Nah," the PFY says.</p><p>"It's minor - just addresses a couple of memory leaks and and cookie issues in the web interface."</p><p>"Yeah. Nah," I repeat.</p><p>"It's just the interface - the UPS will be completely unaffected!"</p><p>"Nope," the PFY says.</p><p>"My assistant and I subscribe to the belief that if it ain't broke it don't need fixing," I add.</p><p>"But it's a mandatory fix!"</p><p>"We've got a mandatory change freeze on server room gear."</p><p>"Till when?"</p><p>"Hang on, I'll just check the thermometer..."</p><p>"What for?"</p><p>"To see if Hell's frozen over..."</p><p>"But if you don't do the upgrade you won't get the advanced diagnostics!"</p><p>"Which would uncover hitherto undetectable problems?"</p><p>"Uh... No..."</p><p>"Provide us with enhanced predictive failure?"</p><p>"No."</p><p>"Report error conditions in a different manner?"</p><p>"Uhhh.. YES!"</p><p>"Yes?"</p><p>"Yes, instead of the light going orange when there's an error, it now goes red. And the code on the diagnostic display changes from 000 to :-["</p><p>"Well that seems to be worthwhile having!" the Boss says, having slipped into Mission Control unnoticed.</p><p>"No it's not!" I chip in.</p><p>"It is," the service droid says. "And when each time your reboot and the self test passes the status changes to :-]"</p><p>"We should get that," the Boss says, with not even a hint of sarcasm!</p><p>"Nah, we shouldn't," the PFY says.</p><p>"It's completely transparent, and it can all be done online!" looking to the Boss for papal intercession.</p><p>...</p><p>"It's one of those shiny bead situations," I say angrily to the PFY a few minutes later when the Boss has vetoed our veto and told the engineer to go ahead. "Like those RAM fail front panel LEDs."</p><p>"?" the PFY asks</p><p>"RAM Fail LEDS, on the front panel instead of on the motherboard. Your RAM craps out and the corresponding LED lights up on the front panel. Everyone loved them until they found out you had to disconnect the front panel to open the lid. The lamps would go out and then you'd realise that the front panel LEDs were numbered 1 to 8 whilst the RAM modules were labelled A1 to A4 and B1 to B4, so then you'd have to guess whether faulty module 5 was module B1 or A3. But they bloody looked cool when your server fell over - and that's the important thing."</p><p>"Well if the UPS upgrade is transparent then what diff..."</p><p>>beep beep<</p><p>"What's that?" the Boss asks, obviously hovering outside Mission Control with conscience pangs.</p><p>"That's Nagios reporting that the UPS interface is offline."</p><p>"So it's down?"</p><p>"The interface, yes. But not UPS1. If it was the UPS1, my desk would be down and the mains fail buzzer on the PFY's desk would sound. Unless UPS2 went down too, and then there would just be silence."</p><p>. . .</p><p>"I... need to restart the interface," the engineer says, leaning around the doorway to Mission Control about a few minutes of tapping and prodding later.</p><p>"Because you mixed up the terms transparency and opacity?" I ask.</p><p>"It'll only take a minute."</p><p>"I think we'll schedule that for another time," I say.</p><p>"But I've already put the service key in."</p><p>"Then take it out."</p><p>"If I take it out the interface will restart!"</p><p>"Then leave it in."</p><p>"If I leave it in the UPS will stay in Bypass mode."</p><p>"YOU PUT IT IN BYPASS MODE!!" the PFY snaps.</p><p>"Shouldn't it warn you that it's in bypass?" the Boss asks.</p><p>"NOT IF THE BLOODY INTERFACE ISN'T WORKING!" I seethe.</p><p>"Well we need to get it back online don't we?" the engineer hints.</p><p>"No, we'll use the external mechanical bypass and then restart the UPS," I say.</p><p>"It's in internal battery bypass," the engineer explains. "It's still converting to DC and back out to AC, so if you put it in external bypass without telling it what you're doing it could short out the inverters."</p><p>"Then tell it what you're doing!" the Boss says, predictably.</p><p>"I can't - the interface is down!"</p><p>"So if you restart the interface, will it shut down the UPS?" the Boss asks.</p><p>"No, the interface and the UPS aren't connected like that. It's just a serial connection."</p><p>... 10 minutes later...</p><p>>click! Whhrrrrrrr..< >buzz buzz< >buzz buzz< >buzz buzz<...</p><p>"Not connected like that," I say to the Boss as my desk descends into dark silence.</p><p>"So the servers are down?"</p><p>"No, 98 per cent of them will still be up because we have dual UPS units."</p><p>"Don't worry!" the engineer says. "It's coming up now. Be back in a jiffy!"</p><p>. . .</p><p>"Mmm?" the PFY says as the engineer pops his head back into Mission Control cautiously.</p><p>"It's detected a ROM mismatch with the other UPS."</p><p>"How?" the Boss asks.</p><p>"They're connected. So the updated UPS has seen the other UPS is back-rev and won't complete start-up until the other one is up to date. We need to update the other UPS."</p><p>"And have the whole room power down? I don't THINK so!" the PFY snaps.</p><p>"No, all we need to do is update the firmware. It doesn't have to boot from the new firmware, it just has to have it on board."</p><p>"Can't we just disconnect the cable so that the UPS thinks it's standalone?" the PFY suggests.</p><p>"No, it's in a cluster."</p><p>"Can't we uncluster it?"</p><p>"Sure, we can do that from the interface once it's booted."</p><p>"So... we're going to have to update the other UPS - but NOT reboot it?"</p><p>"Yes, it's just a patch, not a restart."</p><p>... Five minutes later ...</p><p>"And this," the PFY says to the Boss, "is what silence is like. Notice the absence of phone calls - because the phone system hangs of the UPS units."</p><p>"Notice," I say, "the sudden lack of fresh air - because the aircon system has noted a power anomaly and shut down all the large chiller and fresh-air-fan motors."</p><p>"Notice," the PFY says, "the sound of sirens in the distance - because parts of our fire system which SHOULD have been replaced use normally open relays to detect a fire condition."</p><p>"Notice," I say, "the complete lack of sound from the server room. Not a single whirr, no buzzes, no clicks. Not even the sound of an engineer trying to explain something - because the halon system*'s connected to the crappy old relays."</p><p>"Wasn't it all brand new sensors in there?"</p><p>"Who can tell? Perhaps you can go and check?"</p><p>"Uh.. no, I'm sure you're right," the Boss says nervously.</p><p>"No seriously, go and check!"</p><p>"No, it's fine - I'm sure I can see perfectly through the viewing window."</p><p>"Ah good, so at least we salvaged something from today!" the PFY comments.</p><p>"?"</p><p>"You know what transparent means now..." Â®</p><p>* A fire suppression system that works with halon gas.</p>
            Written by: Simon Travaglia
            <br> Posted to: <a href="https://www.theregister.com/2012/11/23/bofh_2012_episode_13/"> https://www.theregister.com/2012/11/23/bofh_2012_episode_13/</a> </br>
            Posted on: Friday, November 23, 2012 at 11:36 UTC
            </body> </html>